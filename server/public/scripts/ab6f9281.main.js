this.PanlinCapTpl=this.PanlinCapTpl||{},this.PanlinCapTpl["templates/business-plan.hbs"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<div class="myplan">\n  <h3>上传您的商业计划书至：</h3>\n\n  <a href="mailto:master@panlincap.com" class="email">master@panlincap.com</a>\n\n</div>'},useData:!0}),this.PanlinCapTpl["templates/case/case-dialog.hbs"]=Handlebars.template({1:function(a,b,c,d){var e;return"（"+this.escapeExpression((e=null!=(e=b.brief||(null!=a?a.brief:a))?e:b.helperMissing,"function"==typeof e?e.call(a,{name:"brief",hash:{},data:d}):e))+"）"},3:function(a,b,c,d){var e,f=b.helperMissing,g="function",h=this.escapeExpression;return'      <a target="_blank" href="'+h((e=null!=(e=b.website||(null!=a?a.website:a))?e:f,typeof e===g?e.call(a,{name:"website",hash:{},data:d}):e))+'">'+h((e=null!=(e=b.website||(null!=a?a.website:a))?e:f,typeof e===g?e.call(a,{name:"website",hash:{},data:d}):e))+"</a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g=b.helperMissing,h="function",i=this.escapeExpression;return'<div class="dialog-body case">\n  <a href="#" class="close">&times;</a>\n  <div class="case-preview">\n    <img src="'+i((f=null!=(f=b.logo||(null!=a?a.logo:a))?f:g,typeof f===h?f.call(a,{name:"logo",hash:{},data:d}):f))+'" />\n    <h4>'+i((f=null!=(f=b.name||(null!=a?a.name:a))?f:g,typeof f===h?f.call(a,{name:"name",hash:{},data:d}):f))+(null!=(e=b["if"].call(a,null!=a?a.brief:a,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))?e:"")+"</h4>\n"+(null!=(e=b["if"].call(a,null!=a?a.website:a,{name:"if",hash:{},fn:this.program(3,d,0),inverse:this.noop,data:d}))?e:"")+'    <p class="description">'+(null!=(f=null!=(f=b.description||(null!=a?a.description:a))?f:g,e=typeof f===h?f.call(a,{name:"description",hash:{},data:d}):f)?e:"")+"</p>\n  </div>\n</div>"},useData:!0}),this.PanlinCapTpl["templates/found-collection.hbs"]=Handlebars.template({1:function(a,b,c,d){var e,f=b.helperMissing,g="function",h=this.escapeExpression;return'<div class="found found-'+h((e=null!=(e=b.index||d&&d.index)?e:f,typeof e===g?e.call(a,{name:"index",hash:{},data:d}):e))+'" data-index="'+h((e=null!=(e=b.id||(null!=a?a.id:a))?e:f,typeof e===g?e.call(a,{name:"id",hash:{},data:d}):e))+'">\n  <div class="inner">\n  <h3>'+h((e=null!=(e=b.issue||(null!=a?a.issue:a))?e:f,typeof e===g?e.call(a,{name:"issue",hash:{},data:d}):e))+"</h3>\n  <h4>"+h((e=null!=(e=b.name||(null!=a?a.name:a))?e:f,typeof e===g?e.call(a,{name:"name",hash:{},data:d}):e))+"</h4> \n  </div>\n</div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e;return(null!=(e=b.each.call(a,null!=a?a.items:a,{name:"each",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))?e:"")+'<div class="clearfix"></div>'},useData:!0}),this.PanlinCapTpl["templates/found-detail.hbs"]=Handlebars.template({1:function(a,b,c,d){var e;return"      <tr><td>投资周期：</td><td>"+this.escapeExpression((e=null!=(e=b.period||(null!=a?a.period:a))?e:b.helperMissing,"function"==typeof e?e.call(a,{name:"period",hash:{},data:d}):e))+"</td></tr>\n"},3:function(a,b,c,d){var e;return"      <tr><td>投资项目：</td><td>"+this.escapeExpression((e=null!=(e=b.company||(null!=a?a.company:a))?e:b.helperMissing,"function"==typeof e?e.call(a,{name:"company",hash:{},data:d}):e))+"</td></tr>\n"},5:function(a,b,c,d){var e;return"      <tr><td></td><td>"+this.escapeExpression((e=null!=(e=b.statusMsg||(null!=a?a.statusMsg:a))?e:b.helperMissing,"function"==typeof e?e.call(a,{name:"statusMsg",hash:{},data:d}):e))+"</td></tr>\n"},7:function(a,b,c,d){var e;return'      <p>投资行业分布：</p>\n      <table class="chart distribution">\n        <tr class="bar">\n'+(null!=(e=b.each.call(a,null!=a?a.portfolio:a,{name:"each",hash:{},fn:this.program(8,d,0),inverse:this.noop,data:d}))?e:"")+'        </tr>\n        <tr class="caption">\n'+(null!=(e=b.each.call(a,null!=a?a.portfolio:a,{name:"each",hash:{},fn:this.program(10,d,0),inverse:this.noop,data:d}))?e:"")+"        </tr>\n      </table>\n"},8:function(a,b,c,d){var e,f=b.helperMissing,g="function",h=this.escapeExpression;return'          <td width="'+h((e=null!=(e=b.percentage||(null!=a?a.percentage:a))?e:f,typeof e===g?e.call(a,{name:"percentage",hash:{},data:d}):e))+'%" style="background-color:'+h((e=null!=(e=b.color||(null!=a?a.color:a))?e:f,typeof e===g?e.call(a,{name:"color",hash:{},data:d}):e))+'">'+h((e=null!=(e=b.percentage||(null!=a?a.percentage:a))?e:f,typeof e===g?e.call(a,{name:"percentage",hash:{},data:d}):e))+"%</td>\n"},10:function(a,b,c,d){var e;return"          <td>"+this.escapeExpression((e=null!=(e=b.area||(null!=a?a.area:a))?e:b.helperMissing,"function"==typeof e?e.call(a,{name:"area",hash:{},data:d}):e))+"</td>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g=b.helperMissing,h="function",i=this.escapeExpression;return'<div class="dialog-body found">\n  <a href="#" class="close">&times;</a>\n  <h3>'+i((f=null!=(f=b.issue||(null!=a?a.issue:a))?f:g,typeof f===h?f.call(a,{name:"issue",hash:{},data:d}):f))+"</h3>\n  <h4>"+i((f=null!=(f=b.fullname||(null!=a?a.fullname:a))?f:g,typeof f===h?f.call(a,{name:"fullname",hash:{},data:d}):f))+'</h4>\n  <div class="found-wrapper">\n    <table class="content-column-left">\n      <tr><td>基金名称：</td><td>'+i((f=null!=(f=b.name||(null!=a?a.name:a))?f:g,typeof f===h?f.call(a,{name:"name",hash:{},data:d}):f))+"</td></tr>\n"+(null!=(e=b["if"].call(a,null!=a?a.period:a,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))?e:"")+"\n"+(null!=(e=b["if"].call(a,null!=a?a.company:a,{name:"if",hash:{},fn:this.program(3,d,0),inverse:this.noop,data:d}))?e:"")+"\n"+(null!=(e=b["if"].call(a,null!=a?a.statusMsg:a,{name:"if",hash:{},fn:this.program(5,d,0),inverse:this.noop,data:d}))?e:"")+'    </table>\n\n    <div class="content-column-right">\n'+(null!=(e=b["if"].call(a,null!=a?a.portfolio:a,{name:"if",hash:{},fn:this.program(7,d,0),inverse:this.noop,data:d}))?e:"")+"    </div>\n  </div>\n</div>"},useData:!0}),this.PanlinCapTpl["templates/header.hbs"]=Handlebars.template({1:function(a,b,c,d){return'<div class="logo"></div>\n'},3:function(a,b,c,d){return'<a class="back" href="#"><i class="fa fa-chevron-left"></i></a>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e;return'<div id="panlin">\n'+(null!=(e=b["if"].call(a,null!=a?a.home:a,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.program(3,d,0),data:d}))?e:"")+'</div>\n<div class="wrapper">\n  <a href="#" class="lang" data-lang="zh">简体中文</a>\n  <span class="divider">|</span>\n  <a href="#" class="lang" data-lang="en">English</a>\n  <p class="slagon">稳如磐石<span class="divider">•</span>共沐甘霖</p>\n</div>\n<a class="mobile menu trigger"><i class="fa fa-bars"></i></a>'},useData:!0}),this.PanlinCapTpl["templates/home.hbs"]=Handlebars.template({1:function(a,b,c,d){var e,f,g=b.helperMissing,h="function",i=this.escapeExpression;return'<div class="topic topic-'+i((f=null!=(f=b.index||d&&d.index)?f:g,typeof f===h?f.call(a,{name:"index",hash:{},data:d}):f))+'">\n  <div class="inner">\n    <h2 class="header">'+i((f=null!=(f=b.title||(null!=a?a.title:a))?f:g,typeof f===h?f.call(a,{name:"title",hash:{},data:d}):f))+'</h2>\n    <div class="content">'+(null!=(f=null!=(f=b.description||(null!=a?a.description:a))?f:g,e=typeof f===h?f.call(a,{name:"description",hash:{},data:d}):f)?e:"")+'</div>\n    <a href="'+i((f=null!=(f=b.link||(null!=a?a.link:a))?f:g,typeof f===h?f.call(a,{name:"link",hash:{},data:d}):f))+'" class="more"> + 更多</a>\n  </div>\n</div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e;return(null!=(e=b.each.call(a,null!=a?a.items:a,{name:"each",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))?e:"")+'<div class="clearfix"></div>'},useData:!0}),this.PanlinCapTpl["templates/news/detail.hbs"]=Handlebars.template({1:function(a,b,c,d){var e,f=b.helperMissing,g="function",h=this.escapeExpression;return'<a class="prev" href="#/news/'+h((e=null!=(e=b.category||(null!=a?a.category:a))?e:f,typeof e===g?e.call(a,{name:"category",hash:{},data:d}):e))+"/"+h((e=null!=(e=b.prev||(null!=a?a.prev:a))?e:f,typeof e===g?e.call(a,{name:"prev",hash:{},data:d}):e))+'">上一篇</a>'},3:function(a,b,c,d){var e,f=b.helperMissing,g="function",h=this.escapeExpression;return'<a class="next" href="#/news/'+h((e=null!=(e=b.category||(null!=a?a.category:a))?e:f,typeof e===g?e.call(a,{name:"category",hash:{},data:d}):e))+"/"+h((e=null!=(e=b.next||(null!=a?a.next:a))?e:f,typeof e===g?e.call(a,{name:"next",hash:{},data:d}):e))+'">下一篇</a>'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g=b.helperMissing,h="function",i=this.escapeExpression;return'<div class="detail">\n<h3>'+i((f=null!=(f=b.title||(null!=a?a.title:a))?f:g,typeof f===h?f.call(a,{name:"title",hash:{},data:d}):f))+"</h3>\n<h4>发布时间: "+i((f=null!=(f=b.date||(null!=a?a.date:a))?f:g,typeof f===h?f.call(a,{name:"date",hash:{},data:d}):f))+' 已经浏览[<span class="count">'+i((f=null!=(f=b.count||(null!=a?a.count:a))?f:g,typeof f===h?f.call(a,{name:"count",hash:{},data:d}):f))+"</span>]次</h4>\n<div>\n"+(null!=(f=null!=(f=b.body||(null!=a?a.body:a))?f:g,e=typeof f===h?f.call(a,{name:"body",hash:{},data:d}):f)?e:"")+'\n</div>\n<div class="nav">\n<a class="back" href="#/news/'+i((f=null!=(f=b.category||(null!=a?a.category:a))?f:g,typeof f===h?f.call(a,{name:"category",hash:{},data:d}):f))+"?page="+i((f=null!=(f=b.page||(null!=a?a.page:a))?f:g,typeof f===h?f.call(a,{name:"page",hash:{},data:d}):f))+'">返回</a>\n'+(null!=(e=b["if"].call(a,null!=a?a.prev:a,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))?e:"")+"\n"+(null!=(e=b["if"].call(a,null!=a?a.next:a,{name:"if",hash:{},fn:this.program(3,d,0),inverse:this.noop,data:d}))?e:"")+'\n<div class="clearfix"></div>\n</div>\n</div>'},useData:!0}),this.PanlinCapTpl["templates/news/news.hbs"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g=b.helperMissing,h="function",i=this.escapeExpression;return'<h4><a href="#/news/'+i((f=null!=(f=b.category||(null!=a?a.category:a))?f:g,typeof f===h?f.call(a,{name:"category",hash:{},data:d}):f))+"/"+i((f=null!=(f=b.id||(null!=a?a.id:a))?f:g,typeof f===h?f.call(a,{name:"id",hash:{},data:d}):f))+'">'+i((f=null!=(f=b.title||(null!=a?a.title:a))?f:g,typeof f===h?f.call(a,{name:"title",hash:{},data:d}):f))+"</a></h4>\n<p>"+(null!=(f=null!=(f=b.descriptions||(null!=a?a.descriptions:a))?f:g,e=typeof f===h?f.call(a,{name:"descriptions",hash:{},data:d}):f)?e:"")},useData:!0}),this.PanlinCapTpl["templates/news/pages.hbs"]=Handlebars.template({1:function(a,b,c,d){var e,f,g=b.helperMissing,h="function",i=this.escapeExpression;return'    <a href="#/news/'+i((f=null!=(f=b.category||(null!=a?a.category:a))?f:g,typeof f===h?f.call(a,{name:"category",hash:{},data:d}):f))+"?page="+i((f=null!=(f=b.firstPage||(null!=a?a.firstPage:a))?f:g,typeof f===h?f.call(a,{name:"firstPage",hash:{},data:d}):f))+(null!=(e=b["if"].call(a,null!=a?a.keyword:a,{name:"if",hash:{},fn:this.program(2,d,0),inverse:this.noop,data:d}))?e:"")+'" class="first">首页</a>\n    <a href="#/news/'+i((f=null!=(f=b.category||(null!=a?a.category:a))?f:g,typeof f===h?f.call(a,{name:"category",hash:{},data:d}):f))+"?page="+i((f=null!=(f=b.prevPage||(null!=a?a.prevPage:a))?f:g,typeof f===h?f.call(a,{name:"prevPage",hash:{},data:d}):f))+(null!=(e=b["if"].call(a,null!=a?a.keyword:a,{name:"if",hash:{},fn:this.program(2,d,0),inverse:this.noop,data:d}))?e:"")+'" class="prev">上一页</a>\n'},2:function(a,b,c,d){var e;return"&q="+this.escapeExpression((e=null!=(e=b.keyword||(null!=a?a.keyword:a))?e:b.helperMissing,"function"==typeof e?e.call(a,{name:"keyword",hash:{},data:d}):e))},4:function(a,b,c,d){return'    <span class="first disabled">首页</span>\n    <span class="prev disabled">上一页</span>\n'},6:function(a,b,c,d){var e,f,g=b.helperMissing,h="function",i=this.escapeExpression;return'  <a href="#/news/'+i((f=null!=(f=b.category||(null!=a?a.category:a))?f:g,typeof f===h?f.call(a,{name:"category",hash:{},data:d}):f))+"?page="+i((f=null!=(f=b.nextPage||(null!=a?a.nextPage:a))?f:g,typeof f===h?f.call(a,{name:"nextPage",hash:{},data:d}):f))+(null!=(e=b["if"].call(a,null!=a?a.keyword:a,{name:"if",hash:{},fn:this.program(2,d,0),inverse:this.noop,data:d}))?e:"")+'" class="next">下一页</a>\n  <a href="#/news/'+i((f=null!=(f=b.category||(null!=a?a.category:a))?f:g,typeof f===h?f.call(a,{name:"category",hash:{},data:d}):f))+"?page="+i((f=null!=(f=b.lastPage||(null!=a?a.lastPage:a))?f:g,typeof f===h?f.call(a,{name:"lastPage",hash:{},data:d}):f))+(null!=(e=b["if"].call(a,null!=a?a.keyword:a,{name:"if",hash:{},fn:this.program(2,d,0),inverse:this.noop,data:d}))?e:"")+'" class="last">尾页</a>\n'},8:function(a,b,c,d){return'  <span class="next disabled">下一页</span>\n  <span class="last disabled">尾页</span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g=b.helperMissing,h="function",i=this.escapeExpression;return'<ul class="news"></ul>\n<div class="pagination">\n'+(null!=(e=b["if"].call(a,null!=a?a.hasPrev:a,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.program(4,d,0),data:d}))?e:"")+'  <span class="current">第 '+i((f=null!=(f=b.currentPage||(null!=a?a.currentPage:a))?f:g,typeof f===h?f.call(a,{name:"currentPage",hash:{},data:d}):f))+" / "+i((f=null!=(f=b.totalPage||(null!=a?a.totalPage:a))?f:g,typeof f===h?f.call(a,{name:"totalPage",hash:{},data:d}):f))+' 页</span>\n  <div class="goto">\n    <input type="number" class="num" min="'+i((f=null!=(f=b.firstPage||(null!=a?a.firstPage:a))?f:g,typeof f===h?f.call(a,{name:"firstPage",hash:{},data:d}):f))+'" max="'+i((f=null!=(f=b.lastPage||(null!=a?a.lastPage:a))?f:g,typeof f===h?f.call(a,{name:"lastPage",hash:{},data:d}):f))+'" />\n    <button class="jump">跳转</button>\n  </div>\n'+(null!=(e=b["if"].call(a,null!=a?a.hasNext:a,{name:"if",hash:{},fn:this.program(6,d,0),inverse:this.program(8,d,0),data:d}))?e:"")+'</div>\n<div class="vertical pagination">\n  <a href="#" class="scroll up"><i class="fa fa-chevron-circle-up"></i></a>\n  <a href="#" class="scroll down"><i class="fa fa-chevron-circle-down"></i></a>\n</div>\n'},useData:!0}),this.PanlinCapTpl["templates/scroll-indicator.hbs"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<div class="collection"></div>\n<div class="vertical pagination">\n  <a href="#" class="scroll up"><i class="fa fa-chevron-circle-up"></i></a>\n  <a href="#" class="scroll down"><i class="fa fa-chevron-circle-down"></i></a>\n</div>'},useData:!0}),this.PanlinCapTpl["templates/team/member.hbs"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g=b.helperMissing,h="function",i=this.escapeExpression;return'<img class="avatar" src="'+i((f=null!=(f=b.avatar||(null!=a?a.avatar:a))?f:g,typeof f===h?f.call(a,{name:"avatar",hash:{},data:d}):f))+'" />\n<div class="description">\n  <h4 class="ui header">'+i((f=null!=(f=b.name||(null!=a?a.name:a))?f:g,typeof f===h?f.call(a,{name:"name",hash:{},data:d}):f))+"  "+i((f=null!=(f=b.suffix||(null!=a?a.suffix:a))?f:g,typeof f===h?f.call(a,{name:"suffix",hash:{},data:d}):f))+"</h4>\n  <p>"+i((f=null!=(f=b.title||(null!=a?a.title:a))?f:g,typeof f===h?f.call(a,{name:"title",hash:{},data:d}):f))+"</p>\n  "+(null!=(f=null!=(f=b.description||(null!=a?a.description:a))?f:g,e=typeof f===h?f.call(a,{name:"description",hash:{},data:d}):f)?e:"")+"\n</div>\n"},useData:!0}),this.PanlinCapTpl["templates/team/memberdialog.hbs"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g=b.helperMissing,h="function",i=this.escapeExpression;return'<div class="dialog-body member">\n  <a href="#" class="close">&times;</a>\n  <img class="avatar" src="'+i((f=null!=(f=b.avatar||(null!=a?a.avatar:a))?f:g,typeof f===h?f.call(a,{name:"avatar",hash:{},data:d}):f))+'" />\n  <div class="description">\n    <h4 class="ui header">'+i((f=null!=(f=b.name||(null!=a?a.name:a))?f:g,typeof f===h?f.call(a,{name:"name",hash:{},data:d}):f))+"  "+i((f=null!=(f=b.suffix||(null!=a?a.suffix:a))?f:g,typeof f===h?f.call(a,{name:"suffix",hash:{},data:d}):f))+"</h4>\n    <p>"+i((f=null!=(f=b.title||(null!=a?a.title:a))?f:g,typeof f===h?f.call(a,{name:"title",hash:{},data:d}):f))+"</p>\n    "+(null!=(f=null!=(f=b.description||(null!=a?a.description:a))?f:g,e=typeof f===h?f.call(a,{name:"description",hash:{},data:d}):f)?e:"")+"\n  </div>\n</div>\n"},useData:!0}),this.PanlinCapTpl["templates/team/team.hbs"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g="function",h=this.escapeExpression;return'<a href="#/team/'+h((e=null!=(e=b.id||(null!=a?a.id:a))?e:f,typeof e===g?e.call(a,{name:"id",hash:{},data:d}):e))+'" class="pos-'+h((e=null!=(e=b.position||(null!=a?a.position:a))?e:f,typeof e===g?e.call(a,{name:"position",hash:{},data:d}):e))+'">\n  <img src="'+h((e=null!=(e=b.avatar||(null!=a?a.avatar:a))?e:f,typeof e===g?e.call(a,{name:"avatar",hash:{},data:d}):e))+'" />\n  <div class="member">\n    <h4>'+h((e=null!=(e=b.name||(null!=a?a.name:a))?e:f,typeof e===g?e.call(a,{name:"name",hash:{},data:d}):e))+"</h4>\n  </div>\n</a>"},useData:!0}),function(a){"use strict";a.addRegions({headerRegion:"#header",logoRegion:"#panlin",navRegion:"#navigation",dialogRegion:"#dialog",subRegion:"#submenu",breadcrumbRegion:"#breadcrumb",bgRegion:"#background",bodyRegion:"#body"}),a.isMobile=function(){return"none"===$("#breadcrumb").css("display")},a.on("start",function(){Backbone.history.start({pushState:!1}),Backbone.Intercept.start()})}(PanlinCap),PanlinCap.module("PanlinCap.Share",function(a,b,c,d){"use strict";var e=960;a.SplitView=d.ItemView.extend({toggleReveal:function(){this.$(".reveal").toggleClass("active")},triggers:{"click .topic.detail":"expand","click .close":"expand"}}),a.SplitBgView=d.ItemView.extend({updateSeparation:function(){var a=$(window).width(),b=$(window).height(),c=this.$(".left"),d=this.$(".right"),f=(a-e)/2,g=f+160;c.css("clip","rect(0px,"+g+"px,"+b+"px,0px)"),d.css("clip","rect(0px,"+a+"px,"+b+"px,"+g+"px)")},toggleSplit:function(){this.$(".right").toggleClass("split")},initialize:function(){$(window).on("resize",this.updateSeparation)},onRender:function(){this.updateSeparation()},onDestroy:function(){$(window).off("reisze",this.updateSeparation)}}),a.ScrollView=d.CompositeView.extend({template:PanlinCapTpl["templates/scroll-indicator.hbs"],childViewContainer:".collection",onRender:function(){function a(){d.animate({scrollTop:"-=50"},"normal","linear",a)}function b(){d.animate({scrollTop:"+=50"},"normal","linear",b)}function c(){d.stop()}var d=$(".viewport .container");this.$(".scroll.up").mousedown(a).mouseup(c),this.$(".scroll.down").mousedown(b).mouseup(c)},events:{"click .scroll.up":function(a){a.preventDefault()},"click .scroll.down":function(a){a.preventDefault()}}}),a.RevealView=d.ItemView.extend({template:Handlebars.compile('{{{body}}}<a href="{{back}}" class="close">  <i class="fa fa-angle-double-left"></i> 收起</a>'),className:"reveal",initialize:function(){this.listenTo(b.vent,"reveal:active",this.revealView,this),this.listenTo(b.vent,"reveal:hide",this.hideView,this),this.listenTo(this.model,"sync",this.render),this.listenTo(b,"language",function(){this.model.reload()})},hideView:function(){this.$el.removeClass("active")},revealView:function(){this.$el.addClass("active")}})}),PanlinCap.module("Navigation",function(a,b,c,d,e,f){"use strict";function g(a,b){var c=a.findWhere({link:b});if(c){for(;c.get("parent");)c=a.get(c.get("parent"));return c}var d=f.lastIndexOf(b,"/");return d>0?(b=b.slice(0,d),g(a,b)):null}function h(){var a=e.cookie("lang")||"zh";e("html").attr("lang",a)}var i=c.Model.extend({}),j=c.Collection.extend({model:i,url:"/api/menus"}),k=new c.Model({}),l=new j,m=d.ItemView.extend({template:PanlinCapTpl["templates/header.hbs"],initialize:function(){this.listenTo(this.model,"change",this.render)},serializeData:function(){var a=this.model.get("fragment"),c=b.isMobile();return c&&""!==a&&"/"!==a?{home:!1}:{home:!0}},events:{"click .lang":function(a){a.preventDefault();var c=e(a.target).data("lang"),d=e.cookie("lang");c!==d&&(e.cookie("lang",c,{expires:365}),b.trigger("language",c))},"click a.back":function(a){a.preventDefault(),window.history.back()},"click .trigger":function(a){a.preventDefault(),console.log("clicked"),e("body").toggleClass("push")}}}),n=d.ItemView.extend({template:Handlebars.compile('{{#each items}}<a href="#{{link}}">{{title}}</a>{{/each}}'),className:"menus",initialize:function(){this.listenTo(this.collection,"sync",this.render)},serializeData:function(){var a=this.collection.filter(function(a){return!a.get("parent")}),b=f.map(a,function(a){return a.toJSON()});return{items:b}}}),o=d.ItemView.extend({template:Handlebars.compile('{{#if visible}}<a class="section" href="/#">{{home}}</a>{{#each items}} <i class="fa fa-chevron-right"></i> <a class="section" href="#{{link}}">{{title}}</a>{{/each}}{{/if}}'),className:"breadcrumb",initialize:function(){this.listenTo(this.collection,"sync",this.render),this.listenTo(this.model,"change",this.render)},serializeData:function(){var a,b,c=this.model.get("fragment")||"",d=this.collection,e=c.split("/"),g=[];for(a=0,b=e.length;b>a;a++){var h=e.slice(0,a+1);h.unshift("");var i=d.findWhere({link:h.join("/")});i&&f.indexOf(["/","/founds"],i.get("link"))<0&&g.push(i.toJSON())}var j={items:g,visible:g.length>0},k=d.findWhere({link:"/"});return k&&(j.home=k.get("title")),j}}),p=d.ItemView.extend({template:Handlebars.compile('{{#each items}}{{#if this.param}}<li class="search"><div class="search-field"><i class="fa fa-search"></i><input type="search" placeholder="{{title}}"></div></li>{{else}}<li><a href="#{{link}}">{{title}}</a></li>{{/if}}{{/each}}'),tagName:"ul",initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.collection,"sync",this.render)},serializeData:function(){var a=this.model.get("fragment")||"",b="/"===a[0]?a:"/"+a,c=g(this.collection,b);if(c){var d=this.collection.where({parent:c.id}),e=f.map(d,function(a){return a.toJSON()});return{items:e}}return{items:[]}}});c.history.on("route",function(){var a=this.getFragment()||"";k.set("fragment",a),b.subRegion.show(new p({model:k,collection:l})),jQuery.placeholder&&jQuery.placeholder.shim()}),b.addInitializer(function(){b.headerRegion.show(new m({model:k})),b.navRegion.show(new n({collection:l})),b.breadcrumbRegion.show(new o({model:k,collection:l})),e("#navigation").on("click","a",function(){e("body").removeClass("push")}),e("#dimmer").on("click",function(){e("body").removeClass("push")}),h()}),b.on("language",function(){l.fetch(),h()}),l.fetch()}),PanlinCap.module("Background",function(a,b,c,d){"use strict";function e(a){switch(a){case"home":b.bgRegion.show(new g);break;case"about":case"invest":b.bgRegion.show(new h({className:["slides",a].join(" "),actived:$(".revealbg").hasClass("active")}));break;case"team":case"found":case"news":case"contact":case"cases":b.bgRegion.show(new h({className:["slides",a].join(" ")}))}}function f(a){e(a);var c=$.Deferred(),d=setTimeout(function(){c.reject("timeout")},3e3);return b.bgRegion.$el.waitForImages(function(){clearTimeout(d),c.resolve("done")}),c}var g=d.ItemView.extend({template:Handlebars.compile('<div class="slide homebg-1 order-1"></div><div class="slide homebg-2 order-2"></div><div class="slide homebg-3 order-3"></div>'),className:"slides home",onRender:function(){var a=this;this.handler=setInterval(function(){var b=a.$(".slide.order-3"),c=a.$(".slide.order-2");c.animate({left:"-=100%"},{easing:"swing",duration:500}),b.animate({left:"-=100%"},{easing:"swing",duration:500,complete:function(){var b=a.$(".order-3").detach();b.insertBefore(a.$(".slide.order-1")),a.$(".slide").each(function(a){$(this).removeClass("order-1 order-2 order-3").addClass("order-"+(a+1)).removeAttr("style")})}})},5e3)},onDestroy:function(){clearInterval(this.handler)}}),h=d.ItemView.extend({template:Handlebars.compile('<div class="slide"></div><div class="revealbg {{ cls }}"></div>'),initialize:function(a){this.listenTo(b.vent,"reveal:active",this.revealView,this),this.listenTo(b.vent,"reveal:hide",this.hideView,this),this.cfg=a},serializeData:function(){return this.cfg.actived?{cls:"active"}:{}},hideView:function(){this.$(".revealbg").removeClass("active")},revealView:function(){this.$(".revealbg").addClass("active")}});b.commands.setHandler("showBackground",e),b.reqres.setHandler("showBackground",f)}),PanlinCap.module("PanlinCap.Home",function(a,b,c,d){"use strict";var e=c.Collection.extend({model:c.Model,url:"/api/home.json"}),f=new e,g=!1,h=d.ItemView.extend({template:PanlinCapTpl["templates/home.hbs"],className:"topics hide",initialize:function(a){this.background=a.background,this.listenTo(this.collection,"sync",this.render),this.listenTo(b,"language",function(){f.fetch()})},onRender:function(){var a=this.background,b=this;g?this.$el.removeClass("hide"):(a.then(function(){setTimeout(function(){b.$el.removeClass("hide")},1e3)}),g=!0)}}),i={showHome:function(){b.subRegion.empty();var a=b.request("showBackground","home");b.bodyRegion.show(new h({background:a,collection:f})),f.fetch()}};a.Controller=i}),PanlinCap.module("PanlinCap.Reveal",function(a,b,c){"use strict";var d=b.module("PanlinCap.Share"),e=c.Model.extend({load:function(a,b){return this.name=a,this.back=b,this.reload()},reload:function(){return this.fetch({url:"/api/declaration/"+this.name})},toJSON:function(){var a=c.Model.prototype.toJSON.apply(this,arguments);return a.back=this.back,a}}),f=new e,g={showRevealPage:function(a,c,e){return b.execute("showBackground",c),a?(b.bodyRegion.show(new d.RevealView({model:f})),void f.load(a,e).then(function(){b.vent.trigger("reveal:active")})):(b.bodyRegion.empty(),void b.vent.trigger("reveal:hide"))}};a.Controller=g}),PanlinCap.module("PanlinCap.Investee",function(a,b,c,d){"use strict";var e=b.module("PanlinCap.Share"),f=c.Collection.extend({model:c.Model,url:"/api/investees"}),g=new f,h=d.ItemView.extend({template:Handlebars.compile('<div class="company-logo"><div class="logo"></div><h3>{{name}}</h3><p>{{brief}}</p></div>'),className:"company",onRender:function(){var a=this.model;this.$(".logo").css("background-image","url("+this.model.get("logo")+")"),this.$el.on("click",function(){var c=new i({model:a});b.dialogRegion.show(c)})}}),i=d.ItemView.extend({template:PanlinCapTpl["templates/case/case-dialog.hbs"],className:"panlin dialog",onShow:function(){this.$el.bPopup({closeClass:"close",opacity:.3,positionStyle:"fixed",amsl:0})}}),j=d.CompositeView.extend({template:Handlebars.compile('{{#if area}}<h4>{{area}}</h4>{{/if}}<div class="companys"></div>'),childView:h,childViewContainer:".companys",className:"area",tagName:"section",initialize:function(){this.collection=new c.Collection(this.model.get("brands"))}}),k=e.ScrollView.extend({childView:j,className:"cases main",initialize:function(){var a=this.collection;this.listenTo(b,"language",function(){a.fetch()})}}),l={showCases:function(){b.bodyRegion.empty(),b.execute("showBackground","cases"),b.bodyRegion.show(new k({collection:g})),g.fetch()}};a.Controller=l}),PanlinCap.module("PanlinCap.Team",function(a,b,c,d){"use strict";var e=c.Collection.extend({model:c.Model,url:"/api/members"}),f=new e,g=b.module("PanlinCap.Share"),h=d.ItemView.extend({template:PanlinCapTpl["templates/team/memberdialog.hbs"],className:"panlin dialog",onShow:function(){this.$el.bPopup({closeClass:"close",opacity:.3,amsl:0})}}),i=d.ItemView.extend({template:PanlinCapTpl["templates/team/member.hbs"],className:"panlin member"}),j=d.ItemView.extend({template:PanlinCapTpl["templates/team/team.hbs"],className:"person",onRender:function(){var a=this.model;b.isMobile()||this.$el.click(function(c){c.preventDefault(),b.dialogRegion.show(new h({model:a}))})}}),k=g.ScrollView.extend({childView:j,className:"teams main",initialize:function(){this.listenTo(b,"language",function(){f.fetch()})}}),l=function(){return{showTeam:function(a){if(b.subRegion.empty(),b.execute("showBackground","team"),a){var c=f.get(a);b.bodyRegion.show(new i({model:c}))}else b.bodyRegion.show(new k({collection:f})),f.fetch()}}}();a.Controller=l}),PanlinCap.module("PanlinCap.Found",function(a,b,c,d,e,f){"use strict";var g=["rgb(180,6,12)","rgb(199,99,103)","rgb(178,53,55)","rgb(208,145,148)"],h=c.Model.extend({toJSON:function(){var a=c.Model.prototype.toJSON.apply(this,arguments),b=a.portfolio;if(b){var d=b.split(",");a.portfolio=f.map(d,function(a,b){var c=a.split(":");return{area:c[0],percentage:parseInt(c[1]),color:g[b]}})}return a.fullname=a.fullname||a.name,a}}),i=c.Collection.extend({model:h,url:"/api/founds"}),j=new i,k=d.ItemView.extend({template:PanlinCapTpl["templates/found-detail.hbs"],className:"panlin dialog",onShow:function(){this.$el.bPopup({closeClass:"close",opacity:.3,positionStyle:"fixed",amsl:0})}}),l=d.ItemView.extend({template:PanlinCapTpl["templates/found-collection.hbs"],className:"founds",initialize:function(){this.listenTo(this.collection,"sync",this.render),this.listenTo(b,"language",function(){j.fetch()})},onRender:function(a){var c=a.collection;this.$el.on("click",".found",function(){var a=e(this).data("index"),d=c.get(a),f=new k({model:d});b.dialogRegion.show(f)})}}),m={showFounds:function(){b.subRegion.empty(),b.execute("showBackground","found"),b.bodyRegion.show(new l({collection:j})),j.fetch()}};a.Controller=m}),PanlinCap.module("PanlinCap.News",function(a,b,c,d,e,f){"use strict";function g(a){var b={};if(a){var c=decodeURI(a).split(/&/g);f.each(c,function(a){var c=a.split("=");2===c.length&&(b[c[0]]=c[1])})}return b}var h=b.module("PanlinCap.Share"),i=d.ItemView.extend({template:PanlinCapTpl["templates/news/news.hbs"],tagName:"li"}),j=h.ScrollView.extend({template:PanlinCapTpl["templates/news/pages.hbs"],childView:i,className:"main news",childViewContainer:"ul.news",initialize:function(){this.listenTo(this.collection,"reset",this.render)},templateHelpers:function(){var a=this.collection.state,b={params:this.collection.params,category:this.collection.category,hasPrev:this.collection.hasPreviousPage(),hasNext:this.collection.hasNextPage(),firstPage:a.firstPage,prevPage:a.currentPage-1,currentPage:a.currentPage,nextPage:a.currentPage+1,lastPage:a.lastPage,totalPage:a.totalPages,pageSize:a.pageSize,items:this.collection.toJSON()};return a.keyword&&(b.keyword=encodeURIComponent(a.keyword)),b},events:{"click button.jump":function(){var a=parseInt(e("input.num").val())||1,c=this.collection.category,d=this.collection.state;a=a<d.firstPage?d.firstPage:a,a=a>d.lastPage?d.lastPage:a,b.Router.navigate("/news/"+c+"?page="+a,{trigger:!0})}}}),k=d.ItemView.extend({template:PanlinCapTpl["templates/news/detail.hbs"],className:"main news",initialize:function(){this.listenTo(this.model,"sync",this.render)}}),l=c.PageableCollection.extend({url:"/api/article?type=company",category:"company",state:{currentPage:1,pageSize:10}}),m=c.PageableCollection.extend({url:"/api/article?type=invested",category:"invested",state:{currentPage:1,pageSize:10}}),n=c.PageableCollection.extend({parseState:function(a){var b=c.PageableCollection.prototype.parseState.apply(this,arguments),d=a[0]||{};return b.keyword=d.keyword,b},url:"/api/article?type=search",category:"search",state:{currentPage:1,pageSize:10}});e(document).on("keyup",'input[type="search"]',function(a){if(13===a.keyCode){var c=a.target,d=c.value;d&&b.Router.navigate("/news/search?q="+encodeURIComponent(d),{trigger:!0})}});var o=new l,p=new m,q=new n,r=c.Model.extend({load:function(a){this.newsID=a,this.reload()},reload:function(){this.fetch({url:"/api/article/"+this.newsID+".json"})}}),s=new r({}),t={showNews:function(a,c,d){if(b.subRegion.empty(),b.execute("showBackground","news"),c)b.bodyRegion.show(new k({model:s})),s.load(c);else{var e=g(d||""),f=parseInt(e.page)||1;"company"===a?(b.bodyRegion.show(new j({collection:o})),o.getPage(f,{reset:!0})):"invested"===a?(b.bodyRegion.show(new j({collection:p})),p.getPage(f,{reset:!0})):"search"===a?(b.bodyRegion.show(new j({collection:q})),q.params=e,q.getPage(f,{reset:!0,data:{q:e.q}})):b.bodyRegion.empty();
}}};a.Controller=t}),PanlinCap.module("PanlinCap.Contact",function(a,b,c,d){"use strict";var e=c.Model.extend({load:function(a){this.name=a,this.reload()},reload:function(){var a=this.name;this.fetch({url:"/api/declaration/"+a})}}),f=new e,g=d.ItemView.extend({template:Handlebars.compile("{{{body}}}"),className:"main plan",initialize:function(){this.listenTo(this.model,"sync",this.render),this.listenTo(b,"language",function(){this.model.reload()})}}),h={showContacts:function(a,c){b.bodyRegion.empty(),b.execute("showBackground","contact");var d=c||a;d&&(b.bodyRegion.show(new g({model:f})),f.load(d))}};a.Controller=h}),PanlinCap.module("PanlinCap.Route",function(a,b,c,d){"use strict";b.addInitializer(function(){var a=b.module("PanlinCap.Home").Controller,c=b.module("PanlinCap.Reveal").Controller,e=b.module("PanlinCap.Team").Controller,f=b.module("PanlinCap.Found").Controller,g=b.module("PanlinCap.Investee").Controller,h=b.module("PanlinCap.News").Controller,i=b.module("PanlinCap.Contact").Controller,j={showAbout:function(a){return c.showRevealPage(a,"about","#/about")},showInvestment:function(a){return c.showRevealPage(a,"invest","#/investment")},showTeam:e.showTeam.bind(e),showFounds:f.showFounds.bind(f),showInvestees:g.showCases.bind(g),showNews:h.showNews.bind(h),showContacts:i.showContacts.bind(i),showHome:a.showHome.bind(a)},k=new d.AppRouter({appRoutes:{"(/)":"showHome","about(/:subpage)":"showAbout","investment(/:subpage)":"showInvestment","team(/:id)":"showTeam","founds(/)":"showFounds","investees(/)":"showInvestees","news(/:subpage)(/:id)":"showNews","contacts(/:subpage)(/:id)":"showContacts"},controller:j});b.Router=k})});